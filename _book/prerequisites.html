<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Manual of preparation and transformation of open data</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This manual describes the process of cleaning open government databases">
  <meta name="generator" content="bookdown 0.2.5 and GitBook 2.6.7">

  <meta property="og:title" content="Manual of preparation and transformation of open data" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This manual describes the process of cleaning open government databases" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Manual of preparation and transformation of open data" />
  
  <meta name="twitter:description" content="This manual describes the process of cleaning open government databases" />
  

<meta name="author" content="Juan Ramírez">


<meta name="date" content="2017-05-03">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="the-extraction-phase.html">
<link rel="next" href="applications.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Manual for preparation and transformation of open data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a></li>
<li class="chapter" data-level="2" data-path="methodology.html"><a href="methodology.html"><i class="fa fa-check"></i><b>2</b> The Methodology</a><ul>
<li class="chapter" data-level="2.1" data-path="methodology.html"><a href="methodology.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="methodology.html"><a href="methodology.html#general-model-of-the-methodology"><i class="fa fa-check"></i><b>2.2</b> General Model of the Methodology</a><ul>
<li class="chapter" data-level="2.2.1" data-path="methodology.html"><a href="methodology.html#individual-steps-of-the-methodology"><i class="fa fa-check"></i><b>2.2.1</b> Individual Steps of the Methodology</a></li>
<li class="chapter" data-level="2.2.2" data-path="methodology.html"><a href="methodology.html#parts-of-the-process"><i class="fa fa-check"></i><b>2.2.2</b> Parts of the process</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html"><i class="fa fa-check"></i><b>3</b> The Extraction Phase</a><ul>
<li class="chapter" data-level="3.1" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html#the-ckan-system-and-its-api"><i class="fa fa-check"></i><b>3.2</b> The CKAN system and its API</a></li>
<li class="chapter" data-level="3.3" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html#keywords"><i class="fa fa-check"></i><b>3.3</b> Keywords</a></li>
<li class="chapter" data-level="3.4" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html#identifying-the-source-of-the-data"><i class="fa fa-check"></i><b>3.4</b> Identifying the source of the data</a></li>
<li class="chapter" data-level="3.5" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html#discriminate-the-irrelevant-entries"><i class="fa fa-check"></i><b>3.5</b> Discriminate the irrelevant entries</a></li>
<li class="chapter" data-level="3.6" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html#download"><i class="fa fa-check"></i><b>3.6</b> Download</a></li>
<li class="chapter" data-level="3.7" data-path="the-extraction-phase.html"><a href="the-extraction-phase.html#checking-the-data"><i class="fa fa-check"></i><b>3.7</b> Checking the data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>4</b> Prerequisites</a><ul>
<li class="chapter" data-level="4.1" data-path="prerequisites.html"><a href="prerequisites.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="prerequisites.html"><a href="prerequisites.html#software"><i class="fa fa-check"></i><b>4.2</b> Software</a><ul>
<li class="chapter" data-level="4.2.1" data-path="prerequisites.html"><a href="prerequisites.html#what-is-r"><i class="fa fa-check"></i><b>4.2.1</b> What is R?</a></li>
<li class="chapter" data-level="4.2.2" data-path="prerequisites.html"><a href="prerequisites.html#r"><i class="fa fa-check"></i><b>4.2.2</b> R</a></li>
<li class="chapter" data-level="4.2.3" data-path="prerequisites.html"><a href="prerequisites.html#rstudio"><i class="fa fa-check"></i><b>4.2.3</b> RStudio</a></li>
<li class="chapter" data-level="4.2.4" data-path="prerequisites.html"><a href="prerequisites.html#the-tidyverse"><i class="fa fa-check"></i><b>4.2.4</b> The tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="prerequisites.html"><a href="prerequisites.html#tidy-data"><i class="fa fa-check"></i><b>4.3</b> Tidy data</a><ul>
<li class="chapter" data-level="4.3.1" data-path="prerequisites.html"><a href="prerequisites.html#why-would-we-tidy-the-data"><i class="fa fa-check"></i><b>4.3.1</b> Why would we “tidy” the data?</a></li>
<li class="chapter" data-level="4.3.2" data-path="prerequisites.html"><a href="prerequisites.html#variables"><i class="fa fa-check"></i><b>4.3.2</b> Variables</a></li>
<li class="chapter" data-level="4.3.3" data-path="prerequisites.html"><a href="prerequisites.html#observations"><i class="fa fa-check"></i><b>4.3.3</b> Observations</a></li>
<li class="chapter" data-level="4.3.4" data-path="prerequisites.html"><a href="prerequisites.html#definition-and-example"><i class="fa fa-check"></i><b>4.3.4</b> Definition and Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>5</b> Applications</a><ul>
<li class="chapter" data-level="5.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>5.1</b> Example one</a></li>
<li class="chapter" data-level="5.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>5.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Manual of preparation and transformation of open data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="prerequisites" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Prerequisites</h1>
<div id="introduction-2" class="section level2">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>In this chapter we will present the preparation steps needed in order to be able to analyse a database of datos.gob.mx. The most important notion of this chapter is the concept of tidy data, which is a consistent form of arranging the data in a dataset that enables us to work more eficiently and stay focused analysing the data.</p>
</div>
<div id="software" class="section level2">
<h2><span class="header-section-number">4.2</span> Software</h2>
<div id="what-is-r" class="section level3">
<h3><span class="header-section-number">4.2.1</span> What is R?</h3>
<p>The software we chose to analyse the data contained in datos.gob.mx is called R. This is a programming language and ecosystem made for statistical analysis that is free and open source. We chose R because it is free software, which is a way of fulfilling the preconditions needed for anyone to make use of the free and open databases in datos.gob.mx.</p>
</div>
<div id="r" class="section level3">
<h3><span class="header-section-number">4.2.2</span> R</h3>
<p>The best source to install R is CRAN, the Complete R Archive Network <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a> . In this website there are many guides with the instructions needed to install R in a variety of operating systems, such as Windows, Mac and Linux. The basic tools that we used are already included in the Debian package named “r-base”.</p>
</div>
<div id="rstudio" class="section level3">
<h3><span class="header-section-number">4.2.3</span> RStudio</h3>
<p>When facing a programming language, it is often useful to have a IDE (short for Integrated Development Environment). An ideal IDE makes it more eficient to write programs because it saves the user a lot of typing and also may have many useful functions such as browsing files, show dependencies between the programs, highlighting the code (which makes easier to spot the structure of the program), variable browser, etc. The IDE we chose for using with R is called RStudio, which is made for statistical analysis and also is free and open source, like R. The ecosystem of R and RStudio makes it possible to analyse the data in many different ways, printing plots and making complete reports of the analysis among many others. All these functionalities make it ideal to analyse the datasets in the portal. RStudio can be downloaded in <a href="https://www.rstudio.com/" class="uri">https://www.rstudio.com/</a></p>
</div>
<div id="the-tidyverse" class="section level3">
<h3><span class="header-section-number">4.2.4</span> The tidyverse</h3>
<p>The R ecosystem is very extensible and customizable via something called <strong>packages</strong>. An R package is a collection of functions, data, and documentation that extends the capabilities of base R. The tidyverse is a wrapper around many packages that work consistently with data and have as a whole almost any tool needed in order to analyse a database. The tidyverse includes packages to do almost all the steps in the methodology: making plots about a dataset, transform the variables of a dataset, importing a dataset and resolving its encoding issues, fitting a mathematical model to a variable, among many others. As all these packages are linked together, the tidyverse implements a set of consistent names, functions and tools to make it easier to have all its parts work together on a single dataset.</p>
</div>
</div>
<div id="tidy-data" class="section level2">
<h2><span class="header-section-number">4.3</span> Tidy data</h2>
<div id="why-would-we-tidy-the-data" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Why would we “tidy” the data?</h3>
<p>The final prerequisite to begin working with the databases in the portal is to understand what means that a dataset is tidy. The tidy data is a way to resolve all the differences between the many formats, structures, and encodings that databases can have. It also allows us to work the database with the tidyverse, saving us the time to put the database in a different form for plotting, transforming or modelling. It also makes it easier for R to work with the database because the inherent variable that R uses is a <strong>vector</strong>, (which is a ordered tuple of data of the same kind) and every column in a tidy dataset is a vector.</p>
</div>
<div id="variables" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Variables</h3>
<p>The basis of the concept of tidy data is the idea of a measurable feature of something. For example, the speed of a car, the height of a person and the date of an event are all measurable features of the respective objects. The way in which this concept leads to the tidying of a dataset is that because a variable is a measurable thing, maybe it is a number or date o category, so we can make the computer understand it. As R uses vectors as its basic blocks, we want variables to be encoded in vectors. This is the reason why we are going to put all the variables in columns, which makes the first step in the tidying of a dataset.</p>
</div>
<div id="observations" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Observations</h3>
<p>As variables make the measurable aspects of something, we can speak of the “instant” in which we measured the data of the something. For example, if we are studying diseases in country, we can talk about the number of diseased people, the country and dead people, all of which are linked together by the variable year, which is the moment in which all the other variables happened in the way we are trying to study. Putting together all the values of the measured variables, we can think of a concrete situation, so it makes sense to put all this data together in a way. This is the reason why we are going to put the observations as the rows of the dataset, which is the final step in the tidying of a dataset.</p>
</div>
<div id="definition-and-example" class="section level3">
<h3><span class="header-section-number">4.3.4</span> Definition and Example</h3>
<p>Having all these ideas at hand, we finally define tidy data:</p>
<ul>
<li><p>All the variables in the dataset have its own column.</p></li>
<li><p>All the observations of the variables have its own row.</p></li>
</ul>
<p>In a picture, this is what we call tidy data:</p>
<p><img src="images/tidy-1.png" /><!-- --> <img src="images/tidy-1.png" width="1920" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr::<span class="kw">include_graphics</span>(<span class="st">&quot;images/tidy-1.png&quot;</span>)</code></pre></div>
<p><img src="images/tidy-1.png" width="960" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="the-extraction-phase.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="applications.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-prerequisites.Rmd",
"text": "Edit"
},
"download": ["manual.pdf", "manual.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
